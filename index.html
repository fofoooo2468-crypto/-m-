<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø£Ø¯Ø§Ø© ØªÙ‚ÙŠÙŠÙ… ÙˆØ§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ØªÙ†Ø¸ÙŠÙ…ÙŠØ©</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f5ede3;
  padding: 24px;
}

.container {
  max-width: 1000px;
  margin: auto;
}

.panel, .task-card {
  background: #fff;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 16px;
}

textarea {
  width: 100%;
  min-height: 120px;
  padding: 10px;
}

button {
  padding: 10px 16px;
  margin-top: 10px;
  cursor: pointer;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 12px;
}

th, td {
  border: 1px solid #ccc;
  padding: 8px;
  text-align: center;
  font-size: 13px;
}

th { background: #eee; }

.badge {
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 12px;
}

.good { background: #d4edda; }
.mid { background: #fff3cd; }
.bad { background: #f8d7da; }

.suggestion {
  background: #f9f5ef;
  padding: 10px;
  border-radius: 8px;
  margin-top: 10px;
}
</style>
</head>

<body>
<div class="container">

<h2>ğŸ§  Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¢Ù„ÙŠ Ù„Ù„Ù…Ù‡Ø§Ù… Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯</h2>

<div class="panel">
  <textarea id="taskInput" placeholder="Ø£Ø¯Ø®Ù„ÙŠ Ù†Øµ Ø§Ù„Ù…Ù‡Ù…Ø© Ù‡Ù†Ø§..."></textarea>
  <button onclick="analyze()">ØªØ­Ù„ÙŠÙ„ ÙˆØªÙ‚ÙŠÙŠÙ…</button>
</div>

<div id="output"></div>

</div>

<script>
const VERBS = ["ØªÙ†Ø¸ÙŠÙ…","ØªØ­ÙÙŠØ²","Ø¥Ø´Ø±Ø§Ù","Ø§Ø¹ØªÙ…Ø§Ø¯","Ø±Ù‚Ø§Ø¨Ø©","ØªÙ‚ÙˆÙŠÙ…","ØªÙ‚ÙŠÙŠÙ…","Ø¥Ø¯Ø§Ø±Ø©","ØªØ·ÙˆÙŠØ±","Ù…ØªØ§Ø¨Ø¹Ø©"];

function analyze() {
  const text = document.getElementById("taskInput").value.trim();
  const out = document.getElementById("output");
  out.innerHTML = "";
  if (!text) return;

  const verbs = VERBS.filter(v => text.includes(v));
  const tasks = verbs.length > 1 ? verbs : [verbs[0] || "-"];

  tasks.forEach((verb, i) => {
    const evalResult = evaluateTask(text, verbs);
    const card = document.createElement("div");
    card.className = "task-card";

    card.innerHTML = `
      <h3>Ø§Ù„Ù…Ù‡Ù…Ø© ${i + 1}</h3>

      <table>
        <tr>
          <th>Ø§Ù„Ø£ÙØ¹Ø§Ù„</th>
          <th>Ø§Ù„Ù…Ø¬Ø§Ù„Ø§Øª</th>
          <th>Ø§Ù„Ø£Ø¯Ø§Ø©</th>
          <th>Ø§Ù„Ù…Ø®Ø±Ø¬</th>
        </tr>
        <tr>
          <td>${verb}</td>
          <td>${detectDomain(text)}</td>
          <td>-</td>
          <td>-</td>
        </tr>
      </table>

      <p>
        <strong>Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªÙ‚ÙŠÙŠÙ…:</strong>
        <span class="badge ${evalResult.levelClass}">
          ${evalResult.levelText}
        </span>
        ( ${evalResult.score} / 5 )
      </p>

      <div class="suggestion">
        <strong>ğŸ“Œ Ù…Ù‚ØªØ±Ø­Ø§Øª ØªØ­Ø³ÙŠÙ† Ù…Ø¨Ù†ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…:</strong><br>
        ${evalResult.notes.join("<br>")}
        <hr>
        <strong>âœï¸ ØµÙŠØ§ØºØ© Ù…Ù‚ØªØ±Ø­Ø©:</strong><br>
        ${generateSuggestion(verb, detectDomain(text))}
      </div>
    `;

    out.appendChild(card);
  });
}

function evaluateTask(text, verbs) {
  let score = 0;
  let notes = [];

  if (verbs.length) score++; else notes.push("â€¢ Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙØ¹Ù„ ØªÙ†Ø¸ÙŠÙ…ÙŠ ÙˆØ§Ø¶Ø­");
  if (verbs.length === 1) score++; else notes.push("â€¢ ØªØ­ØªÙˆÙŠ Ø§Ù„Ù…Ù‡Ù…Ø© Ø¹Ù„Ù‰ Ø£ÙƒØ«Ø± Ù…Ù† ÙØ¹Ù„");
  if (detectDomain(text) !== "-") score++; else notes.push("â€¢ Ø§Ù„Ù…Ø¬Ø§Ù„ ØºÙŠØ± Ù…Ø­Ø¯Ø¯");
  notes.push("â€¢ ÙŠÙÙØ¶Ù„ ØªØ­Ø¯ÙŠØ¯ Ø£Ø¯Ø§Ø© ØªÙ†ÙÙŠØ°");
  notes.push("â€¢ ÙŠÙÙØ¶Ù„ ØªØ­Ø¯ÙŠØ¯ Ù…Ø®Ø±Ø¬ Ù‚Ø§Ø¨Ù„ Ù„Ù„Ù‚ÙŠØ§Ø³");

  let levelText = "Ø¶Ø¹ÙŠÙØ©";
  let levelClass = "bad";

  if (score >= 4) { levelText = "Ù†Ø§Ø¶Ø¬Ø©"; levelClass = "good"; }
  else if (score >= 2) { levelText = "Ù…ØªÙˆØ³Ø·Ø©"; levelClass = "mid"; }

  return { score, levelText, levelClass, notes };
}

function detectDomain(text) {
  if (text.includes("Ù…Ù†Ø¸ÙˆÙ…Ø©")) return "Ù…Ù†Ø¸ÙˆÙ…Ø© Ø§Ù„Ø¹Ù…Ø±Ø©";
  if (text.includes("Ø£Ù†Ø¸Ù…Ø©") || text.includes("Ù„ÙˆØ§Ø¦Ø­")) return "Ø§Ù„Ø£Ù†Ø¸Ù…Ø© ÙˆØ§Ù„Ù„ÙˆØ§Ø¦Ø­";
  return "-";
}

function generateSuggestion(verb, domain) {
  return `${verb} ${domain || "Ø§Ù„Ù…Ø¬Ø§Ù„"} Ù…Ù† Ø®Ù„Ø§Ù„ Ø£Ø·Ø± ÙˆÙ…Ø¹Ø§ÙŠÙŠØ± Ù…Ø¹ØªÙ…Ø¯Ø© Ø¨Ù…Ø§ ÙŠÙ†ØªØ¬ Ø¹Ù†Ù‡ Ù…Ø®Ø±Ø¬ ØªÙ†Ø¸ÙŠÙ…ÙŠ Ù‚Ø§Ø¨Ù„ Ù„Ù„Ù‚ÙŠØ§Ø³`;
}
</script>

</body>
</html>
