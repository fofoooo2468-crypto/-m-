<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù…Ø­Ù„Ù„ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ØªÙ†Ø¸ÙŠÙ…ÙŠØ© - AI</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700" rel="stylesheet">
<style>
:root{--bg:#f5ede3;--card:#ffffff;--border:#e0d6c8;--gold:#d7a562;--navy:#174766;--ink:#00080b;--radius:12px;--shadow:0 4px 12px rgba(0,0,0,.1);}
body{font-family:"Cairo",sans-serif;background:var(--bg);margin:0;padding:24px;color:var(--ink);line-height:1.6;}
.container{max-width:1200px;margin:auto;}
.panel,.task-card{background:var(--card);padding:24px;border-radius:var(--radius);box-shadow:var(--shadow);margin-bottom:24px;}
h2,h3,h4{margin:0 0 16px 0;color:var(--navy);font-weight:700;}
textarea{width:100%;height:160px;padding:16px;border:2px solid var(--border);border-radius:var(--radius);font-family:inherit;font-size:16px;box-sizing:border-box;resize:vertical;transition:border-color .3s;}
textarea:focus{border-color:var(--gold);outline:none;box-shadow:0 0 0 3px rgba(215,165,98,.1);}
button{padding:12px 24px;border-radius:var(--radius);border:none;cursor:pointer;font-family:inherit;font-weight:600;font-size:15px;transition:all .3s;}
.btn-primary{background:linear-gradient(135deg,var(--gold),#c5944e);color:white;box-shadow:0 4px 12px rgba(215,165,98,.3);}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(215,165,98,.4);}
.btn-secondary{background:linear-gradient(135deg,var(--navy),#12344e);color:white;box-shadow:0 4px 12px rgba(23,71,102,.3);}
.btn-secondary:hover{transform:translateY(-2px);}
.btn-ghost{background:transparent;border:2px solid var(--border);color:var(--navy);}
.actions{display:flex;gap:12px;margin-top:20px;flex-wrap:wrap;align-items:center;}
table{width:100%;border-collapse:collapse;margin:20px 0;border-radius:var(--radius);overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.1);}
th,td{border:1px solid var(--border);padding:16px;text-align:right;vertical-align:top;}
th{background:linear-gradient(135deg,#f8f4f0,#f1e8dc);font-weight:600;color:var(--navy);}
.warn{background:#ffebee;padding:16px;border-radius:12px;border-right:5px solid #d32f2f;margin:20px 0;color:#c62828;font-weight:500;}
.ai-suggest{background:linear-gradient(135deg,#e3f2fd,#bbdefb);padding:20px;border-radius:16px;margin:16px 0;border-right:6px solid var(--navy);box-shadow:0 4px 16px rgba(23,71,102,.15);}
.approved{background:linear-gradient(135deg,#e8f5e8,#c8e6c9);padding:16px;border-radius:12px;margin:12px 0;border-left:5px solid #4caf50;box-shadow:0 2px 8px rgba(76,175,80,.2);}
.loading{text-align:center;padding:40px;color:var(--navy);font-size:18px;font-weight:500;}
.spinner{display:inline-block;width:28px;height:28px;border:4px solid #e0e0e0;border-top:4px solid var(--navy);border-radius:50%;animation:spin 1s linear infinite;margin-left:12px;}
@keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
.section-title{position:relative;margin:32px 0 20px 0;padding-bottom:12px;}
.section-title::after{content:'';position:absolute;bottom:0;right:0;width:60px;height:4px;background:var(--gold);border-radius:2px;}
.token-status{display:inline-flex;align-items:center;gap:8px;padding:8px 16px;border-radius:8px;font-size:14px;font-weight:500;margin:12px 0;}
.status-ok{background:#e8f5e8;color:#2e7d32;border:1px solid #4caf50;}
.status-error{background:#ffebee;color:#d32f2f;border:1px solid #f44336;}
</style>
</head>
<body>
<div class="container">
  <div class="panel">
    <h2>ğŸ¤– Ù…Ø­Ù„Ù„ ÙˆØµÙŠØ§ØºØ© Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ØªÙ†Ø¸ÙŠÙ…ÙŠØ© - Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h2>
    <p style="color:#666;margin-bottom:20px;">Ø£Ø¯Ø®Ù„ Ù†Øµ Ø§Ù„Ù…Ù‡Ù…Ø© Ø§Ù„ØªÙ†Ø¸ÙŠÙ…ÙŠØ© ÙˆØ³ÙŠÙ‚ÙˆÙ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨ØªØ­Ù„ÙŠÙ„Ù‡Ø§ Ø°ÙƒÙŠØ§Ù‹ ÙˆØ¥Ù†Ø´Ø§Ø¡ ØµÙŠØ§ØºØ§Øª Ù…ÙƒØªÙ…Ù„Ø©</p>
    
    <textarea id="input" placeholder="Ù…Ø«Ø§Ù„:&#10;ØªÙ†Ø¸ÙŠÙ… ÙˆØªÙˆØ¬ÙŠÙ‡ ÙˆØªØ­ÙÙŠØ² Ù…Ù†Ø¸ÙˆÙ…Ø© Ø§Ù„Ø¹Ù…Ø±Ø© Ø§Ù„ØªÙŠ ØªÙ…ÙƒÙ† Ø´Ø±ÙƒØ§Øª Ø§Ù„Ø¹Ù…Ø±Ø© Ù…Ù† Ø§Ø¨ØªÙƒØ§Ø± Ø¨Ø±Ø§Ù…Ø¬ ÙˆØ¨Ø§Ù‚Ø§Øª Ù†ÙˆØ¹ÙŠØ© ØªØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø§Ù„Ø²ÙˆØ§Ø± ÙˆØªÙˆØ¬Ù‡Ø§Øª Ø§Ù„Ø£Ø³ÙˆØ§Ù‚ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©ØŒ ÙˆØ°Ù„Ùƒ Ù…Ù† Ø®Ù„Ø§Ù„ Ø£Ø·Ø± ØªÙ†Ø¸ÙŠÙ…ÙŠØ© ÙˆÙ…Ø¹Ø§ÙŠÙŠØ± Ù…Ø¹ØªÙ…Ø¯Ø©ØŒ Ø¨Ù…Ø§ ÙŠÙ†ØªØ¬ Ø¹Ù†Ù‡ ØªØ¹Ø²ÙŠØ² Ø§Ù„ØªÙ†Ø§ÙØ³ÙŠØ© ÙˆØªØ­Ù‚ÙŠÙ‚ Ù…Ø³ØªÙ‡Ø¯ÙØ§Øª Ø§Ù„Ù…Ù…Ù„ÙƒØ© ÙÙŠ Ø¥Ø«Ø±Ø§Ø¡ ØªØ¬Ø±Ø¨Ø© Ø¶ÙŠÙˆÙ Ø§Ù„Ø±Ø­Ù…Ù†..."></textarea>
    
    <div class="actions">
      <button class="btn-primary" onclick="analyzeAI()">
        ğŸš€ ØªØ­Ù„ÙŠÙ„ Ø°ÙƒÙŠ Ø¨Ø§Ù„Ù€ AI
      </button>
      <button class="btn-ghost" onclick="clearAll()">
        ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„
      </button>
    </div>
    
    <div id="tokenStatus" class="token-status status-ok" style="display:none;">
      âœ… Ù…ØªØµÙ„ Ø¨Ù€ Hugging Face AI
    </div>
  </div>

  <div id="results"></div>
  
  <div class="task-card">
    <h3 class="section-title">âœ… Ø§Ù„ØµÙŠØ§ØºØ§Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</h3>
    <div id="approvedList">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ "Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„ØµÙŠØ§ØºØ©" Ù„Ù†Ù‚Ù„ Ø§Ù„Ù…Ù‡Ù…Ø© Ù‡Ù†Ø§</div>
  </div>
</div>

<script>
const HF_TOKEN = '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'; // Token Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
const VERBS = ["ØªÙ†Ø¸ÙŠÙ…","ØªÙˆØ¬ÙŠÙ‡","ØªØ­ÙÙŠØ²","Ø¥Ø´Ø±Ø§Ù","Ù…ØªØ§Ø¨Ø¹Ø©","Ø±Ù‚Ø§Ø¨Ø©","ØªÙ†ÙÙŠØ°","ØªØ·ÙˆÙŠØ±","ØªÙ‚ÙŠÙŠÙ…","ØªÙ‚ÙˆÙŠÙ…","Ù‚ÙŠØ§Ø³","Ø§Ø¹ØªÙ…Ø§Ø¯","Ø¥Ù‚Ø±Ø§Ø±","ØªÙ†Ø³ÙŠÙ‚","Ù…Ø±Ø§Ù‚Ø¨Ø©","ØªÙØ¹ÙŠÙ„","Ø¯Ø¹Ù…","ØªØ´Ø¬ÙŠØ¹","ØªÙˆÙÙŠØ±","ØªÙØ¹ÙŠÙ„","ØªØ¹Ø²ÙŠØ²"];

async function analyzeAI() {
  const input = document.getElementById("input").value.trim();
  const results = document.getElementById("results");
  
  if (!input) {
    alert("ğŸ“ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù†Øµ Ø§Ù„Ù…Ù‡Ù…Ø© Ø§Ù„ØªÙ†Ø¸ÙŠÙ…ÙŠØ©");
    return;
  }
  
  // Loading
  results.innerHTML = `
    <div class="loading">
      <div class="spinner"></div>
      <strong>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ...</strong><br>
      <small>ÙŠØªÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„ØªÙ†Ø¸ÙŠÙ…ÙŠØ© â†’ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø³ÙŠØ§Ù‚ â†’ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØµÙŠØ§ØºØ§Øª Ø§Ù„Ø°ÙƒÙŠØ©</small>
    </div>
  `;
  
  try {
    // Rule-based analysis
    const verbs = extractVerbs(input);
    const isComposite = verbs.length > 1;
    
    // Hugging Face AI Call
    const aiResponse = await callHuggingFaceAI(input, verbs);
    
    // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
    displayResults(input, verbs, isComposite, aiResponse.tasks);
    
    // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù€ Token
    document.getElementById("tokenStatus").style.display = "inline-flex";
    
  } catch (error) {
    results.innerHTML = `
      <div class="task-card">
        <div class="warn">
          <strong>âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„:</strong><br>
          ${error.message}<br><br>
          <small>Ø§Ù„Ù†Ø¸Ø§Ù… Ø³ÙŠØ¹Ù…Ù„ Ø¨Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø°ÙƒÙŠ Ø§Ù„Ù…Ø­Ù„ÙŠ ÙƒØ¨Ø¯ÙŠÙ„</small>
        </div>
        ${generateFallbackResults(input, extractVerbs(input))}
      </div>
    `;
  }
}

async function callHuggingFaceAI(text, verbs) {
  const prompt = `Ø£Ù†Øª Ù…Ø­Ù„Ù„ Ù…Ù‡Ø§Ù… ØªÙ†Ø¸ÙŠÙ…ÙŠØ© Ù…Ø­ØªØ±Ù. Ø­Ù„Ù„ Ù‡Ø°Ø§ Ø§Ù„Ù†Øµ:

Ø§Ù„Ù†Øµ: "${text}"

Ø§Ù„Ø£ÙØ¹Ø§Ù„ Ø§Ù„Ù…ÙƒØªØ´ÙØ©: ${verbs.join(', ') || 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙØ¹Ø§Ù„ ØªÙ†Ø¸ÙŠÙ…ÙŠØ© ÙˆØ§Ø¶Ø­Ø©'}

Ù…Ù‡Ù…ØªÙƒ:
1. Ø§ÙÙ‡Ù… Ø§Ù„Ø³ÙŠØ§Ù‚ ÙƒØ§Ù…Ù„Ø§Ù‹
2. Ø§Ù‚ØªØ±Ø­ 1-3 Ù…Ù‡Ø§Ù… ØªÙ†Ø¸ÙŠÙ…ÙŠØ© Ù…ÙƒØªÙ…Ù„Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰:
   - Ø§Ù„ÙØ¹Ù„ Ø§Ù„ØªÙ†Ø¸ÙŠÙ…ÙŠ
   - Ø§Ù„Ù…Ø¬Ø§Ù„ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù  
   - Ø§Ù„Ø£Ø¯Ø§Ø©/Ø§Ù„Ø¢Ù„ÙŠØ©
   - Ø§Ù„Ù…Ø®Ø±Ø¬/Ø§Ù„Ù‡Ø¯Ù
3. Ø£Ø±Ø¬Ø¹ JSON ÙÙ‚Ø·:

{
  "tasks": [
    {
      "verb": "Ø§Ù„ÙØ¹Ù„",
      "domain": "Ø§Ù„Ù…Ø¬Ø§Ù„", 
      "tool": "Ø§Ù„Ø£Ø¯Ø§Ø©",
      "output": "Ø§Ù„Ù…Ø®Ø±Ø¬", 
      "full": "Ø§Ù„ØµÙŠØ§ØºØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø©"
    }
  ]
}`;

  const response = await fetch('https://api-inference.huggingface.co/models/microsoft/DialoGPT-medium', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${HF_TOKEN}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      inputs: prompt,
      parameters: {
        max_length: 800,
        temperature: 0.7,
        top_p: 0.9,
        do_sample: true
      }
    })
  });
  
  if (!response.ok) {
    throw new Error(`API Error: ${response.status} - ${response.statusText}`);
  }
  
  const data = await response.json();
  
  // Parse AI response Ø£Ùˆ fallback
  return parseAIResponse(data, text, verbs);
}

function parseAIResponse(aiData, originalText, verbs) {
  try {
    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ®Ø±Ø§Ø¬ JSON Ù…Ù† Ø±Ø¯ Ø§Ù„Ù€ AI
    const jsonMatch = aiData[0]?.generated_text.match(/\{[\s\S]*\}/);
    if (jsonMatch) {
      const parsed = JSON.parse(jsonMatch[0]);
      return parsed;
    }
  } catch (e) {
    // Fallback Ù„Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ù…Ø­Ù„ÙŠ
  }
  
  // Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…Ø­Ù„ÙŠ Ù…ØªÙ‚Ø¯Ù… ÙƒØ¨Ø¯ÙŠÙ„
  return {
    tasks: generateSmartTasks(originalText, verbs)
  };
}

function extractVerbs(text) {
  return [...new Set(VERBS.filter(v => text.includes(v)))];
}

function generateSmartTasks(text, verbs) {
  const tasks = [];
  
  if (verbs.length > 1) {
    verbs.forEach(verb => {
      tasks.push(createSmartTask(verb, text));
    });
  } else {
    const mainVerb = verbs[0] || "ØªÙ†Ø¸ÙŠÙ…";
    tasks.push(createSmartTask(mainVerb, text));
  }
  
  return tasks.slice(0, 3); // Ø­Ø¯ Ø£Ù‚ØµÙ‰ 3 Ù…Ù‡Ø§Ù…
}

function createSmartTask(verb, text) {
  const domain = text.replace(new RegExp(`^${verb}\\s*`, 'i'), '').trim() || text;
  const tool = getSmartTool(text, verb);
  const output = getSmartOutput(text, verb);
  
  const full = `${verb} ${domain} ${tool} Ù„ØªØ­Ù‚ÙŠÙ‚ ${output}`;
  
  return {
    verb, domain, tool, output, full
  };
}

function getSmartTool(text, verb) {
  const keywords = {
    'Ø¹Ù…Ø±Ø©': 'Ù…Ù† Ø®Ù„Ø§Ù„ Ø£Ø·Ø± ØªÙ†Ø¸ÙŠÙ…ÙŠØ© ÙˆÙ…Ø¹Ø§ÙŠÙŠØ± ØªØ´ØºÙŠÙ„ÙŠØ© Ù…Ø¹ØªÙ…Ø¯Ø©',
    'Ø­Ø¬': 'Ù…Ù† Ø®Ù„Ø§Ù„ Ø¨Ø±Ø§Ù…Ø¬ ØªÙ†Ø¸ÙŠÙ…ÙŠØ© ÙˆØ¥Ø¬Ø±Ø§Ø¡Ø§Øª ØªÙ†ÙÙŠØ°ÙŠØ©',
    'Ø´Ø±ÙƒØ§Øª': 'Ù…Ù† Ø®Ù„Ø§Ù„ Ø¨Ø±Ø§Ù…Ø¬ Ø¯Ø¹Ù… ÙˆØªÙØ¹ÙŠÙ„ ÙˆØªØ´Ø¬ÙŠØ¹',
    'ØªØ·ÙˆÙŠØ±': 'Ù…Ù† Ø®Ù„Ø§Ù„ Ø¨Ø±Ø§Ù…Ø¬ ØªØ¯Ø±ÙŠØ¨ ÙˆØªØ·ÙˆÙŠØ± Ø§Ù„ÙƒÙØ§Ø¡Ø§Øª',
    'ØªÙ‚ÙŠÙŠÙ…': 'Ù…Ù† Ø®Ù„Ø§Ù„ Ù…Ø¤Ø´Ø±Ø§Øª Ø£Ø¯Ø§Ø¡ Ø±Ø¦ÙŠØ³ÙŠØ© ÙˆØªÙ‚Ø§Ø±ÙŠØ± Ø¯ÙˆØ±ÙŠØ©'
  };
  
  for (const [key, value] of Object.entries(keywords)) {
    if (text.includes(key)) return value;
  }
  
  return 'Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø¢Ù„ÙŠØ§Øª Ø§Ù„ØªÙ†Ø¸ÙŠÙ…ÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© ÙˆØ§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©';
}

function getSmartOutput(text, verb) {
  const keywords = {
    'Ø¹Ù…Ø±Ø©': 'ØªØ¹Ø²ÙŠØ² ØªØ¬Ø±Ø¨Ø© Ø¶ÙŠÙˆÙ Ø§Ù„Ø±Ø­Ù…Ù† ÙˆØªØ­Ù‚ÙŠÙ‚ Ø§Ù„ØªÙ…ÙŠØ² Ø§Ù„ØªÙ†Ø§ÙØ³ÙŠ',
    'Ø­Ø¬': 'ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø¨ÙƒÙØ§Ø¡Ø© Ø¹Ø§Ù„ÙŠØ© ÙˆØ¶Ù…Ø§Ù† Ø±Ø§Ø­Ø© Ø§Ù„Ø²ÙˆØ§Ø±',
    'Ø´Ø±ÙƒØ§Øª': 'Ø±ÙØ¹ ÙƒÙØ§Ø¡Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ²ÙŠØ§Ø¯Ø© Ø§Ù„Ù‚Ø¯Ø±Ø© Ø§Ù„ØªÙ†Ø§ÙØ³ÙŠØ© Ø§Ù„Ù…Ø³ØªØ¯Ø§Ù…Ø©',
    'ØªØ·ÙˆÙŠØ±': 'ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„Ù…Ø³ØªØ¯Ø§Ù…Ø© ÙˆØ§Ù„ØªÙ…ÙŠØ² Ø§Ù„ØªÙ†Ø¸ÙŠÙ…ÙŠ'
  };
  
  for (const [key, value] of Object.entries(keywords)) {
    if (text.includes(key)) return value;
  }
  
  return 'ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ù„Ù„Ù…Ù†Ø¸ÙˆÙ…Ø© ÙˆØ±ÙØ¹ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø´Ø§Ù…Ù„';
}

function displayResults(originalText, verbs, isComposite, aiTasks) {
  const results = document.getElementById("results");
  
  results.innerHTML = `
    <div class="task-card">
      <h4>ğŸ“Š ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Øµ Ø§Ù„Ø£ØµÙ„ÙŠ (Rule-based)</h4>
      <table>
        <tr>
          <th>Ø§Ù„ÙØ¹Ù„ Ø§Ù„ØªÙ†Ø¸ÙŠÙ…ÙŠ</th>
          <th>Ø§Ù„Ù…Ø¬Ø§Ù„</th>
          <th>Ø§Ù„Ø£Ø¯Ø§Ø©</th>
          <th>Ø§Ù„Ù…Ø®Ø±Ø¬</th>
        </tr>
        <tr style="background:#fff3e0;">
          <td><strong>${verbs.join("ØŒ ") || "-"}</strong></td>
          <td>${originalText}</td>
          <td>-</td>
          <td>-</td>
        </tr>
      </table>
      
      <div class="warn">
        <strong>${isComposite ? 'ğŸ”´ Ø§Ù„Ù…Ù‡Ù…Ø© Ù…Ø±ÙƒØ¨Ø©' : 'ğŸŸ¢ Ø§Ù„Ù…Ù‡Ù…Ø© Ù…ÙØ±Ø¯Ø©'}</strong> 
        | ${verbs.length || 0} ÙØ¹Ù„${verbs.length !== 1 ? ' ØªÙ†Ø¸ÙŠÙ…ÙŠ' : ' ØªÙ†Ø¸ÙŠÙ…ÙŠ'}
        ${isComposite ? ' â†’ ØªÙ… ÙØµÙ„Ù‡Ø§ Ø°ÙƒÙŠØ§Ù‹ Ø¥Ù„Ù‰ Ù…Ù‡Ø§Ù… Ù…Ø³ØªÙ‚Ù„Ø©' : ''}
      </div>
      
      <h4 class="section-title">ğŸ¤– Ù…Ù‚ØªØ±Ø­Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ (${aiTasks.length} ØµÙŠØ§ØºØ© Ù…ÙƒØªÙ…Ù„Ø©)</h4>
      ${aiTasks.map((task, i) => `
        <div class="ai-suggest">
          <div style="font-size:17px;line-height:1.6;margin-bottom:12px;">
            <span style="color:var(--navy);font-weight:700;font-size:18px;">${task.verb}</span>
            ${task.domain}
          </div>
          <div style="display:flex;gap:20px;font-size:15px;margin-bottom:16px;flex-wrap:wrap;">
            <div style="color:#1976d2;">
              ğŸ“‹ <strong>Ø§Ù„Ø£Ø¯Ø§Ø©:</strong> ${task.tool}
            </div>
            <div style="color:#2e7d32;">
              ğŸ¯ <strong>Ø§Ù„Ù…Ø®Ø±Ø¬:</strong> ${task.output}
            </div>
          </div>
          <div style="text-align:center;">
            <button class="btn-secondary" onclick="approve('${task.full.replace(/'/g, "\\'").replace(/"/g, '\\"')}')" style="font-size:16px;padding:14px 32px;">
              âœ… Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„ØµÙŠØ§ØºØ© ${i+1}
            </button>
          </div>
        </div>
      `).join('')}
    </div>
  `;
}

function approve(text) {
  const list = document.getElementById("approvedList");
  const div = document.createElement("div");
  div.className = "approved";
  div.innerHTML = `
    <div style="font-size:15px;line-height:1.6;">
      <strong>âœ… ${text}</strong>
    </div>
  `;
  list.insertBefore(div, list.firstChild);
  list.scrollIntoView({behavior: 'smooth'});
  
  // ØµÙˆØª ØªØ£ÙƒÙŠØ¯
  try {
    new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMc').play();
  } catch(e) {}
}

function clearAll() {
  document.getElementById("input").value = "";
  document.getElementById("results").innerHTML = "";
  document.getElementById("approvedList").innerHTML = "Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ 'Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„ØµÙŠØ§ØºØ©' Ù„Ù†Ù‚Ù„ Ø§Ù„Ù…Ù‡Ù…Ø© Ù‡Ù†Ø§";
  document.getElementById("tokenStatus").style.display = "none";
}
</script>
</body>
</html>
